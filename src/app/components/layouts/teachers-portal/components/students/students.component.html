<main>
  <div class="container">
    <!-- Main body -->
    <div class="main-body-contain px-lg-4 py-3" *ngIf="currentSection === 'class'">
      <h4 class="text-black pb-3">
        <span class="">Students</span>

        <input type="file" class="float-end" hidden #upload (change)="onChangefile($event)" />
        <!-- <button class="btn btn-primary fs-7 rounded-1 fw-medium float-end ms-3" type="button" (click)="upload.click()">
          Upload list
        </button>

        <div class="float-end ms-3" style="width: 20%">
          <ng-multiselect-dropdown class="fs-7 rounded-1 fw-medium" name="std" id="std" [placeholder]="'Select Std'"
            [settings]="dropdownSettings" [data]="dropdownList" [(ngModel)]="selectedItems"
            (onSelect)="onItemSelect($event)" (onDeSelect)="clrfilter()">
          </ng-multiselect-dropdown>
        </div> -->

        <!-- <input type="text" class="form-control float-end mb-3 fs-7 d-inline" style="width: 20%;" id="pass"
                    name="pass" placeholder="Search name" (input)="onSerch($event)"> -->
        <div class="input-group float-end" style="width: 20%">
          <input type="text" class="form-control fs-7 d-inline rounded-start-1" id="pass" name="pass"
            placeholder="Search name" (input)="onSerch($event)" autofocus />
          <span class="input-group-text rounded-end-1"><i class="bi bi-search"></i></span>
        </div>
      </h4>
      <div class="table-responsive">
        <table class="table table-striped table-bordered fs-7 text-center table-responsive">
          <thead>
            <tr>
              <th>ID</th>
              <th>FIRST NAME</th>
              <th>LAST NAME</th>
              <th>AGE</th>
              <th>GENDER</th>
              <th>CLASS</th>
              <th>ACTIONS</th>
              <!-- <th>STATUS</th> -->
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let line of filteredStd; let i = index">
              <th>
                {{ i + 1 }}
              </th>
              <td>
                {{ line[0] }}
              </td>
              <td>
                {{ line[1] }}
              </td>
              <td>
                {{ line[2] }}
              </td>
              <td>
                {{ line[3] }}
              </td>
              <td>
                {{ line[4] }}
              </td>
              <td>
                <button type="button" class="btn btn-secondary mx-3 btn-sm" (click)="onEdit(content1, line, i)">
                  Edit
                </button>
                <button type="button" class="btn btn-danger btn-sm" (click)="onDelete(content2, i)">
                  Delete
                </button>
              </td>
            </tr>
          </tbody>
        </table>

        <div class="fw-medium">
          <span>Total number of student is :- {{ filteredStd.length }}</span>
          <button class="btn btn-primary float-end fs-7 fw-medium rounded-1" (click)="showSection('home')">
            <i class="bi bi-arrow-left"></i> Back
          </button>
        </div>
      </div>

      <!-- CARD SECTION -->

      <!-- model -->

      <ng-template #content let-c="close" let-d="dismiss">
        <div class="modal-header">
          <h5 class="modal-title" id="modal-basic-title">Add Staff</h5>
          <button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
        </div>
        <div class="modal-body">
          <form class="text-start fs-7">
            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">First name*</label>
              <input type="text" class="form-control mb-3 fs-7" id="fstName" name="fstName"
                placeholder="Enter First Name" formControlName="fstName" />
              <!-- <div *ngIf="stfData.fstName && stfData.fstName.invalid && stfData.fstName.touched"
                                class="text-danger">
                                Please Enter a first name.
                            </div> -->
            </div>

            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">Last name*</label>
              <input type="text" class="form-control mb-3 fs-7" id="lstName" name="lstName"
                placeholder="Enter Last Name" formControlName="lstName" />
              <!-- <div *ngIf="stfData.lstName && stfData.lstName.invalid && stfData.lstName.touched"
                                class="text-danger">
                                Please Enter a last name.
                            </div> -->
            </div>

            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">Mobile Phone*</label>
              <input type="number" class="form-control mb-3 fs-7" id="phNum" name="phNum"
                placeholder="Enter Phone Number" formControlName="phNum" />
              <!-- <div *ngIf="stfData.phNum && stfData.phNum.invalid && stfData.phNum.touched"
                                class="text-danger">
                                Please Enter a your Phone number.
                            </div> -->
            </div>

            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">Email*</label>
              <input type="email" class="form-control mb-3 fs-7" id="email" name="email" placeholder="Enter Email"
                formControlName="email" />
              <!-- <div *ngIf="stfData.email && stfData.email.invalid && stfData.email.touched"
                                class="text-danger">
                                Please Enter a valid email.
                            </div> -->
            </div>

            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">Password*</label>
              <input type="password" class="form-control mb-3 fs-7" id="pass" name="pass" placeholder="Enter Password"
                formControlName="pass" />
              <!-- <div *ngIf="stfData.pass && stfData.pass.invalid && stfData.pass.touched"
                                class="text-danger">
                                Password must be contain at-least 8 characters.
                            </div> -->
            </div>

            <label for="exampleInputEmail1" class="form-label">Role*</label>
            <select class="form-select mb-3 fs-7" name="role" formControlName="role" id="role">
              <option value="" selected disabled>Select</option>
              <option value="Admin">Admin</option>
              <option value="Staff">Staff</option>
              <option value="Student">Student</option>
            </select>
            <!-- <div *ngIf="stfData.role && stfData.role.invalid && stfData.role.touched" class="text-danger">
                            Please select one option.
                        </div> -->

            <label for="exampleInputEmail1" class="form-label">Standard*</label>
            <!-- <ng-multiselect-dropdown formControlName="std" name="std" id="std"
                            [placeholder]="'Select Standard'" [settings]="dropdownSettings" [data]="dropdownList"
                            [(ngModel)]="selectedItems" (onSelect)="onItemSelect($event)"
                            (onSelectAll)="onSelectAll($event)">
                        </ng-multiselect-dropdown> -->
            <button type="submit" class="btn btn-outline-success float-end mt-4">
              Submit
            </button>
          </form>
        </div>
      </ng-template>

      <!-- Edit model -->

      <ng-template #content1 let-c="close" let-d="dismiss">
        <div class="modal-header">
          <h5 class="modal-title" id="modal-basic-title">Update Data</h5>
          <button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
        </div>
        <div class="modal-body">
          <form class="text-start fs-7" [formGroup]="editStuData" (ngSubmit)="onSave(editStuData.value)">
            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">First name*</label>
              <input type="text" class="form-control mb-3 fs-7" id="fstName" name="fstName"
                placeholder="Enter First Name" formControlName="fstName" />
              <!-- <div *ngIf="stfData.fstName && stfData.fstName.invalid && stfData.fstName.touched"
                                class="text-danger">
                                Please Enter a first name.
                            </div> -->
            </div>

            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">Last name*</label>
              <input type="text" class="form-control mb-3 fs-7" id="lstName" name="lstName"
                placeholder="Enter Last Name" formControlName="lstName" />
              <!-- <div *ngIf="stfData.lstName && stfData.lstName.invalid && stfData.lstName.touched"
                                class="text-danger">
                                Please Enter a last name.
                            </div> -->
            </div>

            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">Age*</label>
              <input type="number" class="form-control mb-3 fs-7" id="age" name="age" placeholder="Enter Your Age"
                formControlName="age" />
              <!-- <div *ngIf="stfData.phNum && stfData.phNum.invalid && stfData.phNum.touched"
                                class="text-danger">
                                Please Enter Your Age.
                            </div> -->
            </div>

            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">Class*</label>
              <input type="text" class="form-control mb-3 fs-7" id="cls" name="cls" placeholder="Enter Your Class"
                formControlName="cls" />
              <!-- <div *ngIf="stfData.lstName && stfData.lstName.invalid && stfData.lstName.touched"
                                class="text-danger">
                                Please Enter Your Class.
                            </div> -->
            </div>
            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label d-block">Gender*</label>
              <div class="form-check form-check-inline">
                <input class="form-check-input border-dark-subtle" type="radio" name="gender" id="M" value="M"
                  formControlName="gender" checked />
                <label class="form-check-label" for="M">M</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input border-dark-subtle" type="radio" name="gender" id="F" value="F"
                  formControlName="gender" />
                <label class="form-check-label" for="F">F</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input border-dark-subtle" type="radio" name="gender" id="O" value="Others"
                  formControlName="gender" />
                <label class="form-check-label" for="O">Others</label>
              </div>
            </div>

            <button type="submit" class="btn btn-outline-success float-end mt-4">
              Save
            </button>
          </form>
        </div>
      </ng-template>

      <!-- Delete model -->

      <ng-template #content2 class="" let-c="close" let-d="dismiss">
        <div class="modal-header">
          <h5 class="modal-title" id="modal-basic-title">Profile deletion</h5>
          <button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
        </div>
        <div class="modal-body text-center">
          <i class="bi bi-exclamation-octagon-fill text-danger display-4"></i>
          <p class="mt-2">
            <strong>Are you sure you want to delete profile?<br />
              If yes than please type "Delete".</strong>
          </p>
          <div class="mb-3">
            <input type="text" class="form-control mb-3 fs-7" id="delete" name="delete" placeholder="Delete"
              [(ngModel)]="confDelete" autocomplete="off" />
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-secondary rounded-1" (click)="d('cancel click')">
            Cancel
          </button>
          <button type="button" class="btn btn-danger rounded-1" (click)="onOk()">
            Ok
          </button>
        </div>
      </ng-template>
    </div>

    <div class="main-body-contain px-lg-4 py-3" *ngIf="currentSection === 'home'">
      <div class="px-1">
        <h5 class="text-black bg-opacity-75 pb-3 pt-2 px-3">
          <i class="bi bi-megaphone fs-6"></i>
          <span class="fs-6 ps-2"> Welcome to your Classroom!! </span>
          <i class="bi bi-x float-sm-end ps-1 ps-sm-2 fs-4"></i>
        </h5>
      </div>

      <div class="row pt-3 pt-md-4 px-1">
        <div class="col-xl-3 col-lg-4 col-md-6 pb-4" (click)="showSection('class', i)" *ngFor="let i of classes">
          <div class="rounded border-0 shadow px-3 py-2 flex-row bg-white cursor">
            <i class="bi bi-calendar3 display-5 text-success"></i>
            <h2 class="fw-semibold mb-0 fs-6 float-sm-end py-2 py-sm-0">
              <p class="mb-lg-2 mb-md-1 mb-0">Std</p>
              <p class="float-sm-end fs-3 mb-0 me-1">{{ i.item_id }}</p>
            </h2>
            <hr class="my-2 text-secondary" />
            <div class="d-flex align-items-center">
              <i class="bi bi-arrow-right text-secondary"></i>
              <span class="ps-2 fw-semibold fs-7 text-secondary">View</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>